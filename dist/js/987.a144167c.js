"use strict";(self["webpackChunkvue_cli_1"]=self["webpackChunkvue_cli_1"]||[]).push([[987],{3864:function(a,t,e){e.d(t,{K:function(){return s}});var c=e(9005);const s=(0,c.nY)("product",{state:()=>({products:[],loading:!0}),actions:{async fetchProducts(){this.loading=!0;try{const a=await fetch("https://api.escuelajs.co/api/v1/products?limit=25"),t=await a.json();console.log("Fetched data:",t),this.products=t.map(((a,t)=>({...a,id:t+1}))),console.log("Products:",this.products)}catch(a){console.error("Error fetching products:",a)}finally{this.loading=!1}},updateActiveImage(a,t){a.activeImage=t},truncateTitle(a,t){const e=a.split(" ");return e.length<=t?a:e.slice(0,t).join(" ")+"..."},async placeOrder(a){try{const t=await fetch("https://fakestoreapi.com/carts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:a})}),e=await t.json();console.log("Order placed:",e)}catch(t){console.error("Error placing order:",t)}}}})},987:function(a,t,e){e.r(t),e.d(t,{default:function(){return K}});var c=e(6768),s=e(4232),l=e(5130),o=e(144),r=e(1387),i=e(3864),n=e(7649),u=e(6578);const d=a=>((0,c.Qi)("data-v-233a53a8"),a=a(),(0,c.jt)(),a),p={key:0,class:"product-detail"},v={class:"product-title"},g={key:0,class:"product-rating"},h={class:"image-container"},m=["src","alt"],k={class:"thumbnail-images"},f=["src","alt","onClick"],C={class:"details"},y={class:"price"},_={class:"description"},w={key:1,class:"cart-modal"},E={key:1,class:"loading"},b=d((()=>(0,c.Lk)("p",null,"Loading product details...",-1))),I=[b];var L={__name:"ProductDetail",setup(a){const t=(0,i.K)(),e=(0,n.x)(),d=(0,r.lq)(),b=(0,o.KR)(null),L=(0,o.KR)(""),P=(0,o.KR)(!1);(0,c.sV)((async()=>{const a=d.params.id;await t.fetchProducts(),b.value=t.products.find((t=>t.id===parseInt(a))),b.value&&(L.value=b.value.images[0])}));const X=async a=>{const c=t.products.find((t=>t.id===a));c?(await t.placeOrder(a),e.addToCart(c),console.log("Order placed:",c),O(),setTimeout(j,3e3)):console.error("Product not found:",a)},K=a=>{L.value=a},O=()=>{P.value=!0},j=()=>{P.value=!1};return(a,t)=>b.value?((0,c.uX)(),(0,c.CE)("div",p,[(0,c.Lk)("h1",v,(0,s.v_)(b.value.title),1),b.value.rating?((0,c.uX)(),(0,c.CE)("h2",g," Rating: "+(0,s.v_)(b.value.rating.rate),1)):(0,c.Q3)("",!0),(0,c.Lk)("div",h,[(0,c.bF)(l.F,{name:"fade",tag:"div",class:"main-image-wrapper"},{default:(0,c.k6)((()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)([L.value],((a,t)=>((0,c.uX)(),(0,c.CE)("img",{src:a,alt:"Product Image "+t,class:"main-image",key:a},null,8,m)))),128))])),_:1}),(0,c.Lk)("div",k,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(b.value.images,((a,t)=>((0,c.uX)(),(0,c.CE)("img",{src:a,alt:"Image "+t,key:t,class:"thumbnail",onClick:t=>K(a)},null,8,f)))),128))])]),(0,c.Lk)("div",C,[(0,c.Lk)("p",y,"Price: $"+(0,s.v_)(b.value.price),1),(0,c.Lk)("p",_,(0,s.v_)(b.value.description),1),(0,c.Lk)("button",{class:"order-button",onClick:t[0]||(t[0]=a=>X(b.value.id))}," Order Now ")]),P.value?((0,c.uX)(),(0,c.CE)("div",w,[(0,c.bF)(u.A,{showCartModal:P.value,onCloseCart:j},null,8,["showCartModal"])])):(0,c.Q3)("",!0)])):((0,c.uX)(),(0,c.CE)("div",E,I))}},P=e(1241);const X=(0,P.A)(L,[["__scopeId","data-v-233a53a8"]]);var K=X}}]);
//# sourceMappingURL=987.a144167c.js.map