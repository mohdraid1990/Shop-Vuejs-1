{"version":3,"file":"js/987.a144167c.js","mappings":"+JAGO,MAAMA,GAAkBC,EAAAA,EAAAA,IAAY,UAAW,CACpDC,MAAOA,KAAA,CACLC,SAAU,GACVC,SAAS,IAEXC,QAAS,CACP,mBAAMC,GACJC,KAAKH,SAAU,EACf,IACE,MAAMI,QAAiBC,MACrB,qDAEIC,QAAaF,EAASG,OAC5BC,QAAQC,IAAI,gBAAiBH,GAC7BH,KAAKJ,SAAWO,EAAKI,KAAI,CAACC,EAASC,KAAU,IACxCD,EACHE,GAAID,EAAQ,MAEdJ,QAAQC,IAAI,YAAaN,KAAKJ,SAChC,CAAE,MAAOe,GACPN,QAAQM,MAAM,2BAA4BA,EAC5C,CAAE,QACAX,KAAKH,SAAU,CACjB,CACF,EAEAe,iBAAAA,CAAkBJ,EAASK,GACzBL,EAAQM,YAAcD,CACxB,EACAE,aAAAA,CAAcC,EAAOC,GACnB,MAAMC,EAAQF,EAAMG,MAAM,KAC1B,OAAID,EAAME,QAAUH,EACXD,EAEFE,EAAMG,MAAM,EAAGJ,GAAWK,KAAK,KAAO,KAC/C,EACA,gBAAMC,CAAWC,GACf,IACE,MAAMC,QAAYvB,MAAM,iCAAkC,CACxDwB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEN,gBAEnBrB,QAAasB,EAAIrB,OACvBC,QAAQC,IAAI,gBAAiBH,EAC/B,CAAE,MAAOQ,GACPN,QAAQM,MAAM,uBAAwBA,EACxC,CACF,I,inBCDJ,MAAMoB,GAAetC,EAAAA,EAAAA,KACfuC,GAAYC,EAAAA,EAAAA,KACZC,GAAQC,EAAAA,EAAAA,MAER3B,GAAU4B,EAAAA,EAAAA,IAAI,MACdtB,GAAcsB,EAAAA,EAAAA,IAAI,IAClBC,GAAgBD,EAAAA,EAAAA,KAAI,IAE1BE,EAAAA,EAAAA,KAAUC,UACR,MAAMf,EAAYU,EAAMM,OAAO9B,SACzBqB,EAAahC,gBACnBS,EAAQiC,MAAQV,EAAanC,SAAS8C,MACnCC,GAAMA,EAAEjC,KAAOkC,SAASpB,KAEvBhB,EAAQiC,QACV3B,EAAY2B,MAAQjC,EAAQiC,MAAMI,OAAO,GAC3C,IAGF,MAAMC,EAAcP,UAClB,MAAMQ,EAAiBhB,EAAanC,SAAS8C,MAAMC,GAAMA,EAAEjC,KAAOc,IAC9DuB,SACIhB,EAAaR,WAAWC,GAC9BQ,EAAUgB,UAAUD,GACpB1C,QAAQC,IAAI,gBAAiByC,GAC7BE,IACAC,WAAWC,EAAgB,MAE3B9C,QAAQM,MAAM,qBAAsBa,EACtC,EAEIZ,EAAqBC,IACzBC,EAAY2B,MAAQ5B,CAAK,EAGrBoC,EAAgBA,KACpBZ,EAAcI,OAAQ,CAAI,EAGtBU,EAAiBA,KACrBd,EAAcI,OAAQ,CAAK,E,6iCCtF7B,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-cli-1/./src/stores/productStore.js","webpack://vue-cli-1/./src/components/ProductDetail.vue","webpack://vue-cli-1/./src/components/ProductDetail.vue?c2e8"],"sourcesContent":["// stores/productStore.js\nimport { defineStore } from \"pinia\";\n\nexport const useProductStore = defineStore(\"product\", {\n  state: () => ({\n    products: [],\n    loading: true,\n  }),\n  actions: {\n    async fetchProducts() {\n      this.loading = true;\n      try {\n        const response = await fetch(\n          \"https://api.escuelajs.co/api/v1/products?limit=25\"\n        );\n        const data = await response.json();\n        console.log(\"Fetched data:\", data);\n        this.products = data.map((product, index) => ({\n          ...product,\n          id: index + 1,\n        }));\n        console.log(\"Products:\", this.products);\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    updateActiveImage(product, image) {\n      product.activeImage = image;\n    },\n    truncateTitle(title, wordLimit) {\n      const words = title.split(\" \");\n      if (words.length <= wordLimit) {\n        return title;\n      }\n      return words.slice(0, wordLimit).join(\" \") + \"...\";\n    },\n    async placeOrder(productId) {\n      try {\n        const res = await fetch(\"https://fakestoreapi.com/carts\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ productId }),\n        });\n        const data = await res.json();\n        console.log(\"Order placed:\", data);\n      } catch (error) {\n        console.error(\"Error placing order:\", error);\n      }\n    },\n  },\n});\n","<template>\n  <div class=\"product-detail\" v-if=\"product\">\n    <h1 class=\"product-title\">{{ product.title }}</h1>\n    <h2 class=\"product-rating\" v-if=\"product.rating\">\n      Rating: {{ product.rating.rate }}\n    </h2>\n    <div class=\"image-container\">\n      <transition-group name=\"fade\" tag=\"div\" class=\"main-image-wrapper\">\n        <img\n          v-for=\"(image, index) in [activeImage]\"\n          :src=\"image\"\n          :alt=\"'Product Image ' + index\"\n          class=\"main-image\"\n          :key=\"image\"\n        />\n      </transition-group>\n      <div class=\"thumbnail-images\">\n        <img\n          v-for=\"(image, index) in product.images\"\n          :src=\"image\"\n          :alt=\"'Image ' + index\"\n          :key=\"index\"\n          class=\"thumbnail\"\n          @click=\"updateActiveImage(image)\"\n        />\n      </div>\n    </div>\n    <div class=\"details\">\n      <p class=\"price\">Price: ${{ product.price }}</p>\n      <p class=\"description\">{{ product.description }}</p>\n      <button class=\"order-button\" @click=\"handleOrder(product.id)\">\n        Order Now\n      </button>\n    </div>\n    <!-- Modal for Cart -->\n    <div v-if=\"showCartModal\" class=\"cart-modal\">\n      <CartApp :showCartModal=\"showCartModal\" @close-cart=\"closeCartModal\" />\n    </div>\n    <!-- End Modal for Cart -->\n  </div>\n  <div v-else class=\"loading\">\n    <p>Loading product details...</p>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useProductStore } from \"@/stores/productStore\";\nimport { useCartStore } from \"@/stores/cartStore\";\nimport CartApp from \"@/components/CartApp.vue\";\n\nconst productStore = useProductStore();\nconst cartStore = useCartStore();\nconst route = useRoute();\n\nconst product = ref(null);\nconst activeImage = ref(\"\");\nconst showCartModal = ref(false);\n\nonMounted(async () => {\n  const productId = route.params.id;\n  await productStore.fetchProducts();\n  product.value = productStore.products.find(\n    (p) => p.id === parseInt(productId)\n  );\n  if (product.value) {\n    activeImage.value = product.value.images[0];\n  }\n});\n\nconst handleOrder = async (productId) => {\n  const productToOrder = productStore.products.find((p) => p.id === productId);\n  if (productToOrder) {\n    await productStore.placeOrder(productId);\n    cartStore.addToCart(productToOrder);\n    console.log(\"Order placed:\", productToOrder);\n    openCartModal();\n    setTimeout(closeCartModal, 3000); // يغلق الكارت تلقائيًا بعد 3 ثوانٍ\n  } else {\n    console.error(\"Product not found:\", productId);\n  }\n};\nconst updateActiveImage = (image) => {\n  activeImage.value = image;\n};\n\nconst openCartModal = () => {\n  showCartModal.value = true;\n};\n\nconst closeCartModal = () => {\n  showCartModal.value = false;\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$product-color: #4276b9;\n$product-hover-color: #36a953;\n$product-title-color: #463545;\n$product-price-color: #1b0a5a;\n$loading-color: #b66d6d;\n$transition-duration: 0.6s;\n$animation-duration: 0.6s;\n\n.product-detail {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 80px 0;\n  background-color: #48496775;\n  width: 100%;\n  min-height: 100vh;\n}\n\n.product-title {\n  font-size: 40px;\n  margin-bottom: 15px;\n  color: $product-title-color;\n  font-weight: bold;\n  text-align: center;\n}\n\n.product-rating {\n  font-size: 20px;\n  margin-bottom: 15px;\n  color: darken($product-title-color, 10%);\n}\n\n.image-container {\n  position: relative;\n\n  .main-image-wrapper {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .main-image {\n      width: 100%;\n      max-width: 400px;\n      height: auto;\n      border-radius: 15px;\n      object-fit: cover;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      transition: transform $animation-duration ease-in,\n        opacity $animation-duration ease-in;\n    }\n  }\n\n  .thumbnail-images {\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n    margin-top: 15px;\n\n    .thumbnail {\n      width: 60px;\n      height: 60px;\n      object-fit: cover;\n      border-radius: 10px;\n      cursor: pointer;\n      transition: transform $transition-duration,\n        box-shadow $transition-duration;\n\n      &:hover {\n        transform: scale(1.1);\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n      }\n    }\n  }\n}\n\n.details {\n  margin-top: 25px;\n  width: 100%;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n  text-align: center;\n\n  .price {\n    font-size: 24px;\n    color: $product-price-color;\n    font-weight: bold;\n  }\n\n  .description {\n    font-size: 20px;\n    color: darken($product-title-color, 80%);\n  }\n\n  .order-button {\n    padding: 12px 25px;\n    font-size: 16px;\n    background-color: $product-color;\n    color: #fff;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: background-color $transition-duration,\n      transform $transition-duration;\n\n    &:hover {\n      background-color: $product-hover-color;\n      transform: scale(1.05);\n    }\n  }\n}\n\n.loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  font-size: 24px;\n  color: $loading-color;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity $transition-duration,\n    transform $animation-duration ease-in;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n  transform: scale(0.95) rotate(-5deg);\n}\n\n.fade-enter-to,\n.fade-leave-from {\n  opacity: 1;\n  transform: scale(1) rotate(7deg);\n}\n\n// .cart-modal {\n//   position: fixed;\n//   top: 0;\n//   right: 0;\n//   width: 100%;\n//   height: 100%;\n//   background-color: rgba(0, 0, 0, 0.5);\n//   display: flex;\n//   justify-content: flex-end;\n\n//   .cart {\n//     width: 300px;\n//     background-color: #fff;\n//     height: 100%;\n//     display: flex;\n//     flex-direction: column;\n//     transition: transform 0.3s ease;\n//   }\n// }\n</style>\n","import script from \"./ProductDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=233a53a8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-233a53a8\"]])\n\nexport default __exports__"],"names":["useProductStore","defineStore","state","products","loading","actions","fetchProducts","this","response","fetch","data","json","console","log","map","product","index","id","error","updateActiveImage","image","activeImage","truncateTitle","title","wordLimit","words","split","length","slice","join","placeOrder","productId","res","method","headers","body","JSON","stringify","productStore","cartStore","useCartStore","route","useRoute","ref","showCartModal","onMounted","async","params","value","find","p","parseInt","images","handleOrder","productToOrder","addToCart","openCartModal","setTimeout","closeCartModal","__exports__"],"sourceRoot":""}